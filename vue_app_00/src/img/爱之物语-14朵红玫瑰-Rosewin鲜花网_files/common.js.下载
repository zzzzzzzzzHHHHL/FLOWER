/**
 * hwSlider内容滑动切换插件 - v1.0
*/
;(function($,window,document,undefined){var HwSlider=function(ele,opt){var self=this;self.$element=ele,self.defaults={width:600,height:320,start:1,speed:400,interval:3000,autoPlay:false,dotShow:true,arrShow:true,touch:true,afterSlider:function(){}},self.clickable=true,self.options=$.extend({},self.defaults,opt)};HwSlider.prototype={init:function(){var self=this,ele=self.$element;var sliderInder=ele.children("ul");var hwsliderLi=sliderInder.children("li");var hwsliderSize=hwsliderLi.length;var index=self.options.start;var touchStartY=0,touchStartX=0;if(self.options.arrShow){var arrElement='<a href="javascript:;" class="arr prev">&lt;</a><a href="javascript:;" class="arr next">&gt;</a>';ele.append(arrElement)}for(i=1;i<=hwsliderSize;i++){if(index==i){hwsliderLi.eq(index-1).addClass("active")}}if(self.options.dotShow){var dot="";for(i=1;i<=hwsliderSize;i++){if(index==i){dot+='<span data-index="'+i+'" class="active"></span>'}else{dot+='<span data-index="'+i+'"></span>'}}var dotElement='<div class="dots">'+dot+"</div>";ele.append(dotElement)}var resize=function(){var sWidth=ele.width();var sHeight=self.options.height/self.options.width*sWidth;ele.css("height",sHeight);if(self.options.arrShow){var arrOffset=(sHeight-40)/2;ele.find(".arr").css("top",arrOffset+"px")}if(self.options.dotShow){var dotWidth=hwsliderSize*20;var dotOffset=(sWidth-dotWidth)/2;ele.find(".dots").css("left",dotOffset+"px")}};ele.css("height",self.options.height);resize();$(window).resize(function(){resize()});if(self.options.arrShow){ele.find(".next").on("click",function(event){event.preventDefault();if(self.clickable){if(index>=hwsliderSize){index=1}else{index+=1}self.moveTo(index,"next")}});ele.find(".prev").on("click",function(event){event.preventDefault();if(self.clickable){if(index==1){index=hwsliderSize}else{index-=1}self.moveTo(index,"prev")}})}if(self.options.dotShow){ele.find(".dots span").on("click",function(event){event.preventDefault();if(self.clickable){var dotIndex=$(this).data("index");if(dotIndex>index){dir="next"}else{dir="prev"}if(dotIndex!=index){index=dotIndex;self.moveTo(index,dir)}}})}if(self.options.autoPlay){var timer;var play=function(){index++;if(index>hwsliderSize){index=1}self.moveTo(index,"next")};timer=setInterval(play,self.options.interval);ele.hover(function(){timer=clearInterval(timer)},function(){timer=setInterval(play,self.options.interval)})}if(self.options.touch){hwsliderLi.on({touchstart:function(e){touchStartY=e.originalEvent.touches[0].clientY;touchStartX=e.originalEvent.touches[0].clientX},touchend:function(e){var touchEndY=e.originalEvent.changedTouches[0].clientY,touchEndX=e.originalEvent.changedTouches[0].clientX,yDiff=touchStartY-touchEndY,xDiff=touchStartX-touchEndX;if(Math.abs(xDiff)>Math.abs(yDiff)){if(xDiff>5){if(index>=hwsliderSize){index=1}else{index+=1}self.moveTo(index,"next")}else{if(index==1){index=hwsliderSize}else{index-=1}self.moveTo(index,"prev")}}touchStartY=null;touchStartX=null},touchmove:function(e){if(e.preventDefault){e.preventDefault()}}})}},moveTo:function(index,dir){var self=this,ele=self.$element;var clickable=self.clickable;var dots=ele.find(".dots span");var sliderInder=ele.children("ul");var hwsliderLi=sliderInder.children("li");if(clickable){self.clickable=false;var offset=ele.width();if(dir=="prev"){offset=-1*offset}sliderInder.children(".active").stop().animate({left:-offset},self.options.speed,function(){$(this).removeClass("active")});hwsliderLi.eq(index-1).css("left",offset+"px").addClass("active").stop().animate({left:0},self.options.speed,function(){self.clickable=true});self.options.afterSlider.call(self);dots.removeClass("active");dots.eq(index-1).addClass("active")}else{return false}}};$.fn.hwSlider=function(options){var hwSlider=new HwSlider(this,options);return this.each(function(){hwSlider.init()})}})(jQuery,window,document);
/**
 * 城市切换
 */
(function($){$.fn.jScroll=function(settings){var settings=$.extend();return this.each(function(settings){var $this=$(this);var Bool=false;var Scrbody=$this.find(".scrollBody");var Scro=Scrbody.find(".scrollBar");var Scrp=Scro.find("p");var Scrobd=Scrbody.find(".all-list");var Scroul=Scrobd.find("ul");var letter=Scrbody.prev();var Scrp_Height=Scrp.outerHeight()/2;var Num2=Scro.outerHeight()-Scrp.outerHeight();var offsetX=0;var offsetY=0;Scrp.mousedown(function(e){Bool=true});$(document).mouseup(function(){Bool=false});$(document).mousemove(function(e){if(Bool){var top=Scro.offset().top;var topHeight=top+Scro.outerHeight();var value=$this.outerHeight()+$this.offset().top;if(e.pageY>=top&&e.pageY<=topHeight){var Num1=e.pageY-value-70;var y=Num1-Scrp_Height}if(y<=1){Scrll(0);Scrp.css("top",1)}else if(y>=Num2){Scrp.css("top",Num2);Scrll(Num2)}else{Scrll(y)}}});function Scrll(y){Scrp.css("top",y);Scroul.css("margin-top",-(y/(Scro.outerHeight()-Scrp.outerHeight()))*(Scroul.outerHeight()-Scrobd.height()))}function wheel(e){var Distance=Num2*0.1;var evt=e||window.event;var wheelDelta=evt.wheelDelta||evt.detail;if(navigator.userAgent.toLowerCase().indexOf('firefox')>=0){if(e.preventDefault)e.preventDefault();e.returnValue=false}if(wheelDelta==-120||wheelDelta==3){var Distances=Scrp.position().top+Distance;if(Distances>=Num2){Scrp.css("top",Num2);Scrll(Num2)}else{Scrll(Distances)}return false}else if(wheelDelta==120||wheelDelta==-3){var Distances=Scrp.position().top-Distance;if(Distances<=1){Scrll(0);Scrp.css("top",1)}else{Scrll(Distances)}return false}}var isIE=!!window.ActiveXObject;var isIE6=isIE&&!window.XMLHttpRequest;var isIE8=isIE&&!!document.documentMode;var isIE7=isIE&&!isIE6&&!isIE8;if(isIE8||isIE7){if(document.getElementById("scrollBody").attachEvent)document.getElementById("scrollBody").onmousewheel=wheel;document.getElementById("scrollBody").attachEvent('DOMMouseScroll',wheel,false)}else{if(document.getElementById("scrollBody").addEventListener)document.getElementById("scrollBody").addEventListener('DOMMouseScroll',wheel,true);document.getElementById("scrollBody").onmousewheel=wheel}function searchClick(letter){letter.find("a").hover(function(){var index=$(this).index();var scrollBody=$(this).parent().next();var top=scrollBody.find("li").eq(index).position().top;var ulHeight=Scroul.height();var mapHeight=Scrobd.height();function Scrll2(top){Scrp.stop(true,false).animate({"top":top/(ulHeight-mapHeight)*(Scro.outerHeight()-Scrp.outerHeight())},500);Scroul.stop(true,false).animate({"margin-top":-top},500)}if(top<=1){Scrp.stop(true,false).animate({"top":1},500);Scroul.stop(true,false).animate({"margin-top":0},500)}else if(top>=(ulHeight-mapHeight)){Scrp.stop(true,false).animate({"top":Num2},500);Scroul.stop(true,false).animate({"margin-top":-(ulHeight-mapHeight)},500)}else{Scrll2(top)}})}searchClick(letter)})}})(jQuery);

/**
 * jquery.fly 
 */
!function(a){a.fly=function(b,c){var d={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:a.noop},e=this,f=a(b);e.init=function(a){this.setOptions(a),!!this.settings.autoPlay&&this.play()},e.setOptions=function(b){this.settings=a.extend(!0,{},d,b);var c=this.settings,e=c.start,g=c.end;f.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body"),null!=g.width&&null!=g.height&&a.extend(!0,e,{width:f.width(),height:f.height()});var h=Math.min(e.top,g.top)-Math.abs(e.left-g.left)/3;h<c.vertex_Rtop&&(h=Math.min(c.vertex_Rtop,Math.min(e.top,g.top)));var i=Math.sqrt(Math.pow(e.top-g.top,2)+Math.pow(e.left-g.left,2)),j=Math.ceil(Math.min(Math.max(Math.log(i)/.05-75,30),100)/c.speed),k=e.top==h?0:-Math.sqrt((g.top-h)/(e.top-h)),l=(k*e.left-g.left)/(k-1),m=g.left==l?0:(g.top-h)/Math.pow(g.left-l,2);a.extend(!0,c,{count:-1,steps:j,vertex_left:l,vertex_top:h,curvature:m})},e.play=function(){this.move()},e.move=function(){var b=this.settings,c=b.start,d=b.count,e=b.steps,g=b.end,h=c.left+(g.left-c.left)*d/e,i=0==b.curvature?c.top+(g.top-c.top)*d/e:b.curvature*Math.pow(h-b.vertex_left,2)+b.vertex_top;if(null!=g.width&&null!=g.height){var j=e/2,k=g.width-(g.width-c.width)*Math.cos(j>d?0:(d-j)/(e-j)*Math.PI/2),l=g.height-(g.height-c.height)*Math.cos(j>d?0:(d-j)/(e-j)*Math.PI/2);f.css({width:k+"px",height:l+"px","font-size":Math.min(k,l)+"px"})}f.css({left:h+"px",top:i+"px"}),b.count++;var m=window.requestAnimationFrame(a.proxy(this.move,this));d==e&&(window.cancelAnimationFrame(m),b.onEnd.apply(this))},e.destory=function(){f.remove()},e.init(c)},a.fn.fly=function(b){return this.each(function(){void 0==a(this).data("fly")&&a(this).data("fly",new a.fly(this,b))})}}(jQuery);
/**
 * 产品详情图片放大镜效果
 */
jQuery.ljsGlasses={pcGlasses:function(_obj){var _box=$("#"+_obj.boxid);var _sum=$("#"+_obj.sumid);var _last,_next;var _imgarr=_box.find("img");var _length=_imgarr.length;var _index=0;var _arr=new Array();_sum.append("<p style='position:absolute;left:0;top:0;'></p>");var _sumbox=_sum.find("p");for(var i=0;i<_length;i++){_arr[i]=new Array();_arr[i][0]=_imgarr.eq(i).attr("src");_arr[i][1]=_imgarr.eq(i).attr("width");_arr[i][2]=_imgarr.eq(i).attr("height");var _scale=_arr[i][1]/_arr[i][2];if(_scale==1){_arr[i][3]=_obj.boxw;_arr[i][4]=_obj.boxh;_arr[i][5]=0;_arr[i][6]=0;_arr[i][7]=_obj.boxw/2;_arr[i][8]=_obj.boxw*2;_arr[i][9]=_obj.boxh*2;_sumbox.append("<span><img src='"+_imgarr.eq(i).attr("src")+"' width='"+_obj.sumw+"' height='"+_obj.sumh+"' /></span>")}if(_scale>1){_arr[i][3]=_obj.boxw;_arr[i][4]=_obj.boxw/_scale;_arr[i][5]=(_obj.boxh-_arr[i][4])/2;_arr[i][6]=0;_arr[i][7]=_arr[i][4]/2;_arr[i][8]=_obj.boxh*2*_scale;_arr[i][9]=_obj.boxh*2;var _place=_obj.sumh-(_obj.sumw/_scale);_place=_place/2;_sumbox.append("<span><img src='"+_imgarr.eq(i).attr("src")+"' width='"+_obj.sumw+"' style='top:"+_place+"px;' /></span>")}if(_scale<1){_arr[i][3]=_obj.boxh*_scale;_arr[i][4]=_obj.boxh;_arr[i][5]=0;_arr[i][6]=(_obj.boxw-_arr[i][3])/2;_arr[i][7]=_arr[i][3]/2;_arr[i][8]=_obj.boxw*2;_arr[i][9]=_obj.boxw*2/_scale;var _place=_obj.sumw-(_obj.sumh*_scale);_place=_place/2;_sumbox.append("<span><img src='"+_imgarr.eq(i).attr("src")+"' height='"+_obj.sumh+"' style='left:"+_place+"px;' /></span>")}}_imgarr.remove();_sum.append("<div style='clear:both;width:100%;'></div>");var _sumarr=_sum.find("span");var _sumimg=_sum.find("img");_sumarr.eq(_index).addClass(_obj.sumsel);var _border=_obj.sumborder*2+_obj.sumh;var _sumwidth=(_border+_obj.sumi)*_obj.sums;var _sumboxwidth=(_border+_obj.sumi)*_length;_sum.css({"overflow":"hidden","height":_border+"px","width":_sumwidth+"px","position":"relative"});_sumbox.css({"width":_sumboxwidth+"px"});_sumarr.css({"float":"left","margin-left":_obj.sumi+"px","width":_obj.sumw+"px","height":_obj.sumh+"px","overflow":"hidden","position":"relative"});_sumimg.css({"max-width":"100%","max-height":"100%","position":"relative"});_box.append("<div style='position:relative;'><b style='display:block;'><img style='display:block;' src='' /></b><span style='position:absolute;left:0;top:0;display:none;z-index:5;'></span></div><p style='position:absolute;overflow:hidden;top:0;display:none;'><img style='max-width:none;max-height:none;position:relative;left:0;top:0;' src='' /></p>");var _glass=_box.find("span");var _boximg=_box.find("b img");var _imgout=_box.find("div");var _showbox=_box.find("p");var _showimg=_box.find("p img");_box.css({"width":_obj.boxw+"px","height":_obj.boxh+"px","position":"relative"});var _showboxleft=_obj.boxw+10;_showbox.css({"width":_obj.boxw+"px","height":_obj.boxh+"px","left":_showboxleft+"px"});var imgPlaces=function(){_showimg.attr("src",_arr[_index][0]);_boximg.attr("src",_arr[_index][0]);_boximg.css({"width":_arr[_index][3]+"px","height":_arr[_index][4]+"px"});_imgout.css({"width":_arr[_index][3]+"px","height":_arr[_index][4]+"px","top":_arr[_index][5]+"px","left":_arr[_index][6]+"px","position":"relative"});_glass.css({"width":_arr[_index][7]+"px","height":_arr[_index][7]+"px"});_showimg.css({"width":_arr[_index][8]+"px","height":_arr[_index][9]+"px"})};imgPlaces();_imgout.mousemove(function(e){var _gl_w=_glass.width()/2;var _maxX=_imgout.width()-_gl_w;var _maxY=_imgout.height()-_gl_w;var _moveX=0,_moveY=0;var _nowX=e.pageX-_imgout.offset().left;var _nowY=e.pageY-_imgout.offset().top;var _moveX=_nowX-_gl_w,_moveY=_nowY-_gl_w;if(_nowX<=_gl_w){_moveX=0}if(_nowX>=_maxX){_moveX=_maxX-_gl_w}if(_nowY<=_gl_w){_moveY=0}if(_nowY>=_maxY){_moveY=_maxY-_gl_w}_glass.css({"left":_moveX+"px","top":_moveY+"px"});var _imgX=-_moveX*_showbox.width()/_glass.width();var _imgY=-_moveY*_showbox.width()/_glass.width();_showimg.css({"left":_imgX+"px","top":_imgY+"px"})});_imgout.mouseenter(function(){_glass.css("display","block");_showbox.css("display","block")});_imgout.mouseleave(function(){_glass.css("display","none");_showbox.css("display","none")});var _nextbtn=$("#"+_obj.nextid);var _lastbtn=$("#"+_obj.lastid);var _moveindex=0;var _sumListMove=function(){var _leftmove=-_moveindex*(_border+_obj.sumi);if(_sumbox.is(":animated")){_sumbox.stop(true,true)}_sumbox.animate({left:_leftmove+"px"},300);_sumarr.eq(_index).addClass(_obj.sumsel).siblings().removeClass(_obj.sumsel);imgPlaces()};if(_length<=_obj.sums){var _place=(_obj.sums-_length)*_border/2;_sumbox.css("left",_place+"px");_nextbtn.click(function(){_index++;if(_index>=_length){_index=_length-1}_sumarr.eq(_index).addClass(_obj.sumsel).siblings().removeClass(_obj.sumsel);imgPlaces()});_lastbtn.click(function(){_index--;if(_index<=0){_index=0}_sumarr.eq(_index).addClass(_obj.sumsel).siblings().removeClass(_obj.sumsel);imgPlaces()})}else{var _maxNum=_length-_obj.sums;_nextbtn.click(function(){_moveindex++;if(_moveindex>=_maxNum){_moveindex=_maxNum}if(_index<=_moveindex){_index=_moveindex}_sumListMove()});_lastbtn.click(function(){_moveindex--;if(_moveindex<=0){_moveindex=0}if(_index>=_moveindex+_obj.sums){_index=_moveindex+_obj.sums-1}_sumListMove()})}_sumarr.hover(function(){_index=$(this).index();_sumarr.eq(_index).addClass(_obj.sumsel).siblings().removeClass(_obj.sumsel);imgPlaces()})}}
/**
 * 产品详情  看了又看 上下滚动
 */

!function(a){a.fn.slide=function(b){return a.fn.slide.defaults={type:"slide",effect:"fade",autoPlay:!1,delayTime:500,interTime:2500,triggerTime:150,defaultIndex:0,titCell:".hd li",mainCell:".bd",targetCell:null,trigger:"mouseover",scroll:1,vis:1,titOnClassName:"on",autoPage:!1,prevCell:".prev",nextCell:".next",pageStateCell:".pageState",opp:!1,pnLoop:!0,easing:"swing",startFun:null,endFun:null,switchLoad:null,playStateCell:".playState",mouseOverStop:!0,defaultPlay:!0,returnDefault:!1},this.each(function(){var c=a.extend({},a.fn.slide.defaults,b),d=a(this),e=c.effect,f=a(c.prevCell,d),g=a(c.nextCell,d),h=a(c.pageStateCell,d),i=a(c.playStateCell,d),j=a(c.titCell,d),k=j.size(),l=a(c.mainCell,d),m=l.children().size(),n=c.switchLoad,o=a(c.targetCell,d),p=parseInt(c.defaultIndex),q=parseInt(c.delayTime),r=parseInt(c.interTime);parseInt(c.triggerTime);var Q,t=parseInt(c.scroll),u=parseInt(c.vis),v="false"==c.autoPlay||0==c.autoPlay?!1:!0,w="false"==c.opp||0==c.opp?!1:!0,x="false"==c.autoPage||0==c.autoPage?!1:!0,y="false"==c.pnLoop||0==c.pnLoop?!1:!0,z="false"==c.mouseOverStop||0==c.mouseOverStop?!1:!0,A="false"==c.defaultPlay||0==c.defaultPlay?!1:!0,B="false"==c.returnDefault||0==c.returnDefault?!1:!0,C=0,D=0,E=0,F=0,G=c.easing,H=null,I=null,J=null,K=c.titOnClassName,L=j.index(d.find("."+K)),M=p=-1==L?p:L,N=p,O=p,P=m>=u?0!=m%t?m%t:t:0,R="leftMarquee"==e||"topMarquee"==e?!0:!1,S=function(){a.isFunction(c.startFun)&&c.startFun(p,k,d,a(c.titCell,d),l,o,f,g)},T=function(){a.isFunction(c.endFun)&&c.endFun(p,k,d,a(c.titCell,d),l,o,f,g)},U=function(){j.removeClass(K),A&&j.eq(N).addClass(K)};if("menu"==c.type)return A&&j.removeClass(K).eq(p).addClass(K),j.hover(function(){Q=a(this).find(c.targetCell);var b=j.index(a(this));I=setTimeout(function(){switch(p=b,j.removeClass(K).eq(p).addClass(K),S(),e){case"fade":Q.stop(!0,!0).animate({opacity:"show"},q,G,T);break;case"slideDown":Q.stop(!0,!0).animate({height:"show"},q,G,T)}},c.triggerTime)},function(){switch(clearTimeout(I),e){case"fade":Q.animate({opacity:"hide"},q,G);break;case"slideDown":Q.animate({height:"hide"},q,G)}}),B&&d.hover(function(){clearTimeout(J)},function(){J=setTimeout(U,q)}),void 0;if(0==k&&(k=m),R&&(k=2),x){if(m>=u)if("leftLoop"==e||"topLoop"==e)k=0!=m%t?(0^m/t)+1:m/t;else{var V=m-u;k=1+parseInt(0!=V%t?V/t+1:V/t),0>=k&&(k=1)}else k=1;j.html("");var W="";if(1==c.autoPage||"true"==c.autoPage)for(var X=0;k>X;X++)W+="<li>"+(X+1)+"</li>";else for(var X=0;k>X;X++)W+=c.autoPage.replace("$",X+1);j.html(W);var j=j.children()}if(m>=u){l.children().each(function(){a(this).width()>E&&(E=a(this).width(),D=a(this).outerWidth(!0)),a(this).height()>F&&(F=a(this).height(),C=a(this).outerHeight(!0))});var Y=l.children(),Z=function(){for(var a=0;u>a;a++)Y.eq(a).clone().addClass("clone").appendTo(l);for(var a=0;P>a;a++)Y.eq(m-a-1).clone().addClass("clone").prependTo(l)};switch(e){case"fold":l.css({position:"relative",width:D,height:C}).children().css({position:"absolute",width:E,left:0,top:0,display:"none"});break;case"top":l.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+u*C+'px"></div>').css({top:-(p*t)*C,position:"relative",padding:"0",margin:"0"}).children().css({height:F});break;case"left":l.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+u*D+'px"></div>').css({width:m*D,left:-(p*t)*D,position:"relative",overflow:"hidden",padding:"0",margin:"0"}).children().css({"float":"left",width:E});break;case"leftLoop":case"leftMarquee":Z(),l.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+u*D+'px"></div>').css({width:(m+u+P)*D,position:"relative",overflow:"hidden",padding:"0",margin:"0",left:-(P+p*t)*D}).children().css({"float":"left",width:E});break;case"topLoop":case"topMarquee":Z(),l.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+u*C+'px"></div>').css({height:(m+u+P)*C,position:"relative",padding:"0",margin:"0",top:-(P+p*t)*C}).children().css({height:F})}}var $=function(a){var b=a*t;return a==k?b=m:-1==a&&0!=m%t&&(b=-m%t),b},_=function(b){var c=function(c){for(var d=c;u+c>d;d++)b.eq(d).find("img["+n+"]").each(function(){var b=a(this);if(b.attr("src",b.attr(n)).removeAttr(n),l.find(".clone")[0])for(var c=l.children(),d=0;d<c.size();d++)c.eq(d).find("img["+n+"]").each(function(){a(this).attr(n)==b.attr("src")&&a(this).attr("src",a(this).attr(n)).removeAttr(n)})})};switch(e){case"fade":case"fold":case"top":case"left":case"slideDown":c(p*t);break;case"leftLoop":case"topLoop":c(P+$(O));break;case"leftMarquee":case"topMarquee":var d="leftMarquee"==e?l.css("left").replace("px",""):l.css("top").replace("px",""),f="leftMarquee"==e?D:C,g=P;if(0!=d%f){var h=Math.abs(0^d/f);g=1==p?P+h:P+h-1}c(g)}},ab=function(a){if(!A||M!=p||a||R){if(R?p>=1?p=1:0>=p&&(p=0):(O=p,p>=k?p=0:0>p&&(p=k-1)),S(),null!=n&&_(l.children()),o[0]&&(Q=o.eq(p),null!=n&&_(o),"slideDown"==e?(o.not(Q).stop(!0,!0).slideUp(q),Q.slideDown(q,G,function(){l[0]||T()})):(o.not(Q).stop(!0,!0).hide(),Q.animate({opacity:"show"},q,function(){l[0]||T()}))),m>=u)switch(e){case"fade":l.children().stop(!0,!0).eq(p).animate({opacity:"show"},q,G,function(){T()}).siblings().hide();break;case"fold":l.children().stop(!0,!0).eq(p).animate({opacity:"show"},q,G,function(){T()}).siblings().animate({opacity:"hide"},q,G);break;case"top":l.stop(!0,!1).animate({top:-p*t*C},q,G,function(){T()});break;case"left":l.stop(!0,!1).animate({left:-p*t*D},q,G,function(){T()});break;case"leftLoop":var b=O;l.stop(!0,!0).animate({left:-($(O)+P)*D},q,G,function(){-1>=b?l.css("left",-(P+(k-1)*t)*D):b>=k&&l.css("left",-P*D),T()});break;case"topLoop":var b=O;l.stop(!0,!0).animate({top:-($(O)+P)*C},q,G,function(){-1>=b?l.css("top",-(P+(k-1)*t)*C):b>=k&&l.css("top",-P*C),T()});break;case"leftMarquee":var c=l.css("left").replace("px","");0==p?l.animate({left:++c},0,function(){l.css("left").replace("px","")>=0&&l.css("left",-m*D)}):l.animate({left:--c},0,function(){l.css("left").replace("px","")<=-(m+P)*D&&l.css("left",-P*D)});break;case"topMarquee":var d=l.css("top").replace("px","");0==p?l.animate({top:++d},0,function(){l.css("top").replace("px","")>=0&&l.css("top",-m*C)}):l.animate({top:--d},0,function(){l.css("top").replace("px","")<=-(m+P)*C&&l.css("top",-P*C)})}j.removeClass(K).eq(p).addClass(K),M=p,y||(g.removeClass("nextStop"),f.removeClass("prevStop"),0==p&&f.addClass("prevStop"),p==k-1&&g.addClass("nextStop")),h.html("<span>"+(p+1)+"</span>/"+k)}};A&&ab(!0),B&&d.hover(function(){clearTimeout(J)},function(){J=setTimeout(function(){p=N,A?ab():"slideDown"==e?Q.slideUp(q,U):Q.animate({opacity:"hide"},q,U),M=p},300)});var bb=function(a){H=setInterval(function(){w?p--:p++,ab()},a?a:r)},cb=function(a){H=setInterval(ab,a?a:r)},db=function(){z||(clearInterval(H),bb())},eb=function(){(y||p!=k-1)&&(p++,ab(),R||db())},fb=function(){(y||0!=p)&&(p--,ab(),R||db())},gb=function(){clearInterval(H),R?cb():bb(),i.removeClass("pauseState")},hb=function(){clearInterval(H),i.addClass("pauseState")};if(v?R?(w?p--:p++,cb(),z&&l.hover(hb,gb)):(bb(),z&&d.hover(hb,gb)):(R&&(w?p--:p++),i.addClass("pauseState")),i.click(function(){i.hasClass("pauseState")?gb():hb()}),"mouseover"==c.trigger?j.hover(function(){var a=j.index(this);I=setTimeout(function(){p=a,ab(),db()},c.triggerTime)},function(){clearTimeout(I)}):j.click(function(){p=j.index(this),ab(),db()}),R){if(g.mousedown(eb),f.mousedown(fb),y){var ib,jb=function(){ib=setTimeout(function(){clearInterval(H),cb(0^r/10)},150)},kb=function(){clearTimeout(ib),clearInterval(H),cb()};g.mousedown(jb),g.mouseup(kb),f.mousedown(jb),f.mouseup(kb)}"mouseover"==c.trigger&&(g.hover(eb,function(){}),f.hover(fb,function(){}))}else g.click(eb),f.click(fb)})}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*.3*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:.5*h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}});
$(function(){
	$page_http_host_url=typeof($page_http_host_url)=='undefined'?"":$page_http_host_url;
	init_page();
	//加载购物车
    setTimeout("get_ajax_header_data()",2000);
	//全局主菜单隐藏显示
	if($page_module!='index'){
		$('.categorys').hover(function(){
			$('.categorys-tab-content').show();
		},function(){
			$('.categorys-tab-content').hide();
		});
	}
	//全局二级菜单隐藏显示
	$('.categorys-item').hover(function(){
		$layer=$(this).find('.categorys-items-layer');
		$index=$('.categorys-item').index($(this));
		if($index==0){
			get_filter_attr_list(51,$index);
			$layer.css('top','0px');
		}else if($index==1){
			get_filter_attr_list(52,$index);
			$value=$page_small_skin=='green'?'110px':'80px';
			$layer.css('top',$value);
		}else if($index==2){
			get_filter_attr_list(53,$index);
			$value=$page_small_skin=='green'?'220px':'190px';
			$layer.css('top',$value);
		}else if($index==3){
			get_filter_attr_list(54,$index);
			$value=$page_small_skin=='green'?'320px':'290px';
			$layer.css('top',$value);
		}
		$layer.show();
	},function(){
		$(this).find('.categorys-items-layer').hide();
	});
	// 顶部快捷栏 地区切换 and 网站导航
	$("*[data-ectype='dorpdown']").hover(function(){
		$(this).addClass("hover");
	},function(){
		$(this).removeClass("hover");
	});
	//顶部快捷栏 地区选择
	if($('#scrollBody').length>0){
		$("#site-nav").jScroll();
	}
	//确定选择城市后
	$('.hot a,#scrollMap a').click(function(){
		$city=$(this).text();
		window.location.href=$page_http_host_url+"/changecity-"+$city+".html";
	});
	//返回顶部
	$('.return_top').click(function(){
		 $('html,body').animate({scrollTop:0},'slow');
	});
	//右侧菜单
	$('#quick_links li:eq(0)').hover(function(){
		$('.ibar_login_box').show();
	},function(){
		$('.ibar_login_box').hide();
	});
	//移动图标出现文字
	$(".quick_links_panel li").mouseenter(function(){
		$(this).children(".mp_tooltip").stop().animate({left:-92,queue:true});
		$(this).children(".mp_tooltip").css("visibility","visible");
		$(this).children(".ibar_login_box").css("display","block");
	});
	$(".quick_links_panel li").mouseleave(function(){
		$(this).children(".mp_tooltip").css("visibility","hidden");
		$(this).children(".mp_tooltip").stop().animate({left:-121,queue:true});
		$(this).children(".ibar_login_box").css("display","none");
	});
	$('.rbtn').click(function(){
		$index=$('.rbtn').index($(this));
		if($index==0){
			window.location.href=$page_http_host_url+"/user-order_list.html";
		}else if($index==1){
			window.location.href=$page_http_host_url+"/user-bonus.html";
		}else if($index==2){
			window.location.href=$page_http_host_url+"/user-footmark.html";
		}else if($index==3){
			window.location.href=$page_http_host_url+"/user-collection_list.html";
		}
		
	});
	//头部搜索
	$('.btn_header_search').click(function(){
		common_do_search();
	});
	//头部搜索 点击回车
	 $("#searchForm input[name='keywords']").keydown(function(event) {
        if(event.keyCode == "13") {
        	common_do_search();
        }
    });
	//伸展购物车
	$('#shopCart').click(function(){
		if($('.quick_links_wrap').width()==40){
			$('#quick_links_pop').show();
			$('.quick_links_wrap').stop().animate({width:320,queue:true},500);
			get_cart_list();
		}else{
			$('.quick_links_wrap').stop().animate({width:40,queue:true},500);
		}
		
	});
	//移除购物车产品(右侧)
	$('#quick_links_pop').delegate('.delete_cart','click',function(){
		$rec_id=$(this).parents('.cart_item').data('rec_id');
		get_ajax('/get_ajax.php',{act:'delete_cart_goods',rec_id:$rec_id},function(data){
			$json=$.parseJSON(data);
			if($json['error']==0){
				get_cart_list();
			}
		});
	});
	//移除购物车产品（头部）
	$('#ECS_CARTINFO').delegate('.remove','click',function(){
		$rec_id=$(this).parents('li').data('rec_id');
		get_ajax('/get_ajax.php',{act:'delete_cart_goods',rec_id:$rec_id},function(data){
			$json=$.parseJSON(data);
			if($json['error']==0){
				get_cart_list();
			}
		});
	});
	//增加购物车数量(头部)
	$('#ECS_CARTINFO').delegate('.count-add','click',function(){
		if($(this).hasClass('btn-disabled')){
			return false;
		}
		$row=$(this).parents('li');
		$number=$.trim($row.find('.num').text());
		$row.find('.num').text(parseInt($number)+1);
		calc_addcart_amount_by_common($row);
	});
	//减少购物车数量(头部)
	$('#ECS_CARTINFO').delegate('.count-remove','click',function(){
		if($(this).hasClass('btn-disabled')){
			return false;
		}
		$row=$(this).parents('li');
		$number=$.trim($row.find('.num').text());
        $min_number=$.trim($row.find('.num').attr('min_number'));
		if($number<=$min_number){
  		 //common_alert("最低购买数量为："+$min_number);
			return false;
		}
		$row.find('.num').text(parseInt($number)-1);
		calc_addcart_amount_by_common($row);
	});
	//收缩购物车
	$(document).bind("click",function(e){ 
		var target = $(e.target); 
		if(target.closest("#quick_links_pop").length == 0&&$('.quick_links_wrap').width()!=40){ 
			$('.quick_links_wrap').stop().animate({width:40,queue:true},500);
		} 
	});
	$('.ibar_closebtn').click(function(){
		$('.quick_links_wrap').stop().animate({width:40,queue:true},500);
	});
	//头部购物车
	$('.shopCart-con').mouseover(function(){
		if(!$('#ECS_CARTINFO .dorpdown-layer').is(":visible")){
			get_cart_list();
		}
	});
});
//窗口滚动事件
$(document).scroll(function(){
	$scrollTop=$(document).scrollTop();
	
});
//左侧导航属性展示 $attr_id:属性键 id，$index：当前展开第几个
function get_filter_attr_list($attr_id,$index){
	$categorys=$('.categorys-items-layer').eq($index);
	if($categorys.find('.cate-list li').length>0){
		return;
	}
	post_ajax("/get_ajax.php",{act:'get_filter_attr_list',attr_id:$attr_id},function(data){
		$json=$.parseJSON(data);
		if($json['error']==0){
			$filter_attr_list=$json['filter_attr_list'];
			$categorys.find('.cate-list li').remove();
			$categorys.find('.load').hide();
			$.each($filter_attr_list,function(k,v){
			  $(' <li> <a href="'+v.url+'" target="_blank">'+v.attr_value+'</a></li>').appendTo($categorys.find('.cate-list'));	
			});
		}else{
			$categorys.find('.load').show();
		}
	});
}
//执行搜索操作
function common_do_search(){
	$form=$('#searchForm');
	$keywords=$.trim($form.find('input[name="keywords"]').val());
	window.location.href=$page_http_host_url+"/search-k"+$keywords+".html";
}
//头部购物车 按钮状态
function calc_addcart_amount_by_common($row){
	$number=$.trim($row.find('.num').text());
	if($number>1){
		$row.find('.count-remove').removeClass('btn-disabled');
	}else{
		$row.find('.count-remove').addClass('btn-disabled');
	}
	if($number>=1000){
		$row.find('.count-add').addClass('btn-disabled');
	}else{
		$row.find('.count-add').removeClass('btn-disabled');
	}
	$rec_id=$row.data('rec_id');
	post_ajax($page_http_host_url+"/flow.php",{step:'ajax_update_cart',goods_number:$number,rec_id:$rec_id},function(data){
		$json=$.parseJSON(data);
		if($json['error']==0){
			$('#ECS_CARTINFO .p-total').html('共'+$json['cart_num']+'件商品&nbsp;&nbsp;共计：'+$json['cart_total']);
			$('.cart_num').text($json['cart_num']);
		}else{
			common_alert($json['message']);
		}
	});
}
/**
 * 获取购物车列表
 */
function get_cart_list(){
	get_ajax('/get_ajax.php',{act:'get_cart_list'},function(data){
		$json=$.parseJSON(data);
		if($json['error']==0){
			$('.ibar_cart_product ul li').remove();
			$cart_list=$json['cart_list'];
			$('#quick_links_pop .cart_price').text($json['cart_num']);
			$('#quick_links_pop .cart_handler_right').text($json['cart_total']);
			$('.cart_num').text($json['cart_num']);
			if($cart_list.length==0){
				//右侧
				$('.ibar_cart_product').html('<div class="ecs-tbar-tipbox2">'+
		            	'<div class="tip-inner">'+
	                	'<b class="b-face-fd"></b>'+
	                    '<div class="tip-text">购物车空空的，赶快去挑选心仪的商品吧~<br><a href="/">去首页看看</a></div>'+
	                '</div>'+
	            '</div>');
				//头部
				$('#ECS_CARTINFO .dorpdown-layer').html('<div class="prompt"><div class="nogoods"><b></b><span>购物车中还没有商品，赶紧选购吧！</span></div></div>');
			}else{
				//右侧
				if($('.ibar_cart_product ul').length==0){
					$('.ibar_cart_product .ecs-tbar-tipbox2').remove();
					$('<ul></ul>').appendTo('.ibar_cart_product');
				}
				$.each($cart_list,function(k,v){
					$item=$('<li class="cart_item" data-rec_id="'+v.rec_id+'">'+
			            '<div class="cart_item_pic">'+
			                '<a href="/goods-'+v.goods_id+'.html" target="_blank"><img src="'+$page_site_static_url+v.goods_thumb+'"></a>'+
			            '</div>'+
			            '<div class="cart_item_desc">'+
			            '<a class="cart_item_name" href="/goods-'+v.goods_id+'.html" target="_blank">'+v.goods_name+'</a>'+
			            '<div class="cart_item_price"><span class="cart_price"><em>¥</em>'+v.goods_price+'</span>×'+v.goods_number+'</div>'+
			            '<div class="delete_cart"><a href="javascript:;">删除</a></div>'+
			            '</div>'+
			        '</li>');
					$item.appendTo('.ibar_cart_product ul');
				});
				
				
				//头部
				if($('#ECS_CARTINFO .mc li').length==0){
					$('#ECS_CARTINFO .prompt').remove();
					$('<div class="settleup-content"><div class="mc"><ul></ul></div><div class="mb">'+
				            '<div class="p-total">共0件商品&nbsp;&nbsp;共计：0.00</div>'+
				            '<a href="/cart.html" class="btn-cart">去购物车</a>'+
				       '</div></div>').appendTo('#ECS_CARTINFO .dorpdown-layer');
					
				}
				$('#ECS_CARTINFO .p-total').html('共'+$json['cart_num']+'件商品&nbsp;&nbsp;共计：'+$json['cart_total']);
				$('#ECS_CARTINFO ul li').remove();
				$.each($cart_list,function(k,v){
					$item=$('<li data-rec_id="'+v.rec_id+'">'+
							  '<div class="p-img" >'+
							    '<a href="/goods-'+v.goods_id+'.html" target="_blank">'+
							      '<img src="'+$page_site_static_url+v.goods_thumb+'" width="50" height="50"></a>'+
							  '</div>'+
							  '<div class="p-name">'+
							    '<a href="/goods-'+v.goods_id+'.html" title="'+v.goods_name+'" target="_blank">'+v.goods_name+'</a><p>'+v.goods_attr+'</p></div>'+
							  '<div class="p-number">'+
							    '<span class="num" min_number="'+v.min_number+'">'+v.goods_number+'</span>'+
							    '<div class="count">'+
							      '<a href="javascript:;" class="count-add">'+
							        '<i class="iconfont icon-up"></i>'+
							      '</a>'+
							      '<a href="javascript:;"  class="count-remove">'+
							        '<i class="iconfont icon-down"></i>'+
							      '</a>'+
							    '</div>'+
							  '</div>'+
							  '<div class="p-oper">'+
							   ' <div class="price">'+
							     ' <em>¥</em>'+v.goods_price+'</div>'+
							    '<a href="javascript:;"  class="remove">删除</a></div>'+
							'</li>');
					$item.appendTo('#ECS_CARTINFO .mc ul');
				});
			}
		}
	});
}
/**
 * 获取头部动态信息
 */
function get_ajax_header_data(){
	get_ajax('/get_ajax.php',{act:'get_dscmall_header_data',http_host_url:$page_http_host_url},function(data){
		$json=$.parseJSON(data);
		if($json['error']==0){
			$('.ui-areamini-text').text($json['cur_city']);
			$('#ECS_MEMBERZONE').html($json['login_info_html']);
			$('.user_cen_info').html($json['user_cen_info']);
			$('.ibar_login_box').html($json['ibar_left_userinfo']);
			$('.cart_num').text($json['cart_num']);
			$is_login=$json['is_login'];
			if($is_login>0){
				$('.order_search_quick_menu').html('<a href="'+$page_http_host_url+'/user-order_list.html">我的订单</a>');
			}else{
				$('.order_search_quick_menu').html('<a href="'+$page_http_host_url+'/order_search.html">订单查询</a>');
			}
		}
	});
}

//窗口改变事件
$(window).resize(function(){
	$('.tbar-panel-main').css('height',$(window).height()-50);
	$('.tbar-panel-content').css('height',$(window).height()-134);
});
/**
 * 初始化窗口
 */
function init_page(){
	$('.tbar-panel-main').css('height',$(window).height()-50);
	$('.tbar-panel-content').css('height',$(window).height()-134);
}
/**
 * 移入购物车效果
 * $img:需要加入购物车的产品缩略图，$btn:触发该事件的按钮,$target：目标元素
 */
function show_add_cart_animate($img,$btn,$target) {
	if($.browser.msie&&(parseInt($.browser.version) <10) ){
		return;
	}
    var e = $img.clone().css({
        "z-index": "999",
        height: "40px",
        width: "40px",
        "border-radius":"50%"
    });
    e.fly({
        start: {
            left: $btn.offset().left+30,
            top:$btn.offset().top - $(window).scrollTop()-20
        },
        end: {
            left: $target.offset().left + 40,
            top: $target.offset().top - $(window).scrollTop()+40,
            width: 0,
            height: 0
        },
        onEnd: function() {
            e.remove();
         
        }
    })
}
/**  
* ajax post提交  
* @param url  
* @param param  
* @param callback回调函数  
* @return  
*/  
function post_ajax(url, param, callback) {  
    $.ajax({  
        type: "post",  
        url: url,  
        data: param,  
        dataType: "html",  
        success: callback,  
        error: function () {
       	
        }  
    });  
}  
/**  
 * ajax get提交  
 * @param url  
 * @param param  
 * @param callback回调函数  
 * @return  
 */  
function get_ajax(url, param, callback) {  
	 $.ajax({  
		 type: "get",  
		 url: url,  
		 data: param,  
		 dataType: "html",  
		 success: callback,  
		 error: function () {
			
		 }  
	 });  
}  
/**
 * ajax处理中
 */
function ajax_doing(){
	$('<div id="loadingToast">'+
	        '<div class="weui-mask_transparent"></div>'+
	        '<div class="weui-toast">'+
	            '<i class="weui-loading weui-icon_toast"></i>'+
	           '<p class="weui-toast__content">数据加载中</p>'+
	        '</div>'+
	   '</div>').appendTo('body');
}
function ajax_done(){
	$('#loadingToast').remove();
}
/**
 * 自定义alert
 * @param $content
 */
function common_alert($content){
	layer.alert('<em class="icon_tip_warning icon_tip"></em>'+$content,{
		title:'系统提示'
	});
}
/**
 * 自定义success alert
 * @param $content
 */
function common_success($content){
	layer.alert('<em class="icon_tip_success icon_tip"></em>'+$content,{
		title:'系统提示'
	});
}
/**
 * 自定义询问框
 */
function common_confirm($title,$btn_arr,success_fn){
	layer.confirm('<em class="icon_tip_ques icon_tip"></em>'+$title, {
		title:'系统提示',
		  btn: $btn_arr //按钮
		},
		
		success_fn,
		function(){
		  
		});
}
/**
 * tip提示
 */
function common_tip($content,$obj,$pos){
	
	layer.tips($content,$obj , {
		  tips: [$pos?$pos:2, '#ff8f23'],
		  tipsMore: true,
		  time: 1000
		});
}
/**
 * 冒泡提示
 * @param $content
 */
function common_msg($content){
	layer.msg('<p>'+$content+'</p>',{
	});
}
/**
 * 日期格式转换
 * @param str
 * @returns {Date}
 */
function strToDate(str) {
	return new Date(Date.parse(str.replace(/-/g, "/")))
}
/**
 * 弹出意见建议页面
 */
function show_msg_con(){
	layer.open({
		  type: 2,
		  title:'意见建议',
          shade:0.9,
         
		  skin: 'layui-layer-rim', //加上边框
		  area: ['840px','540px'], //宽高
		  content: ['/user-feedback.html', 'no'], //iframe的url，no代表不显示滚动条
		});
       $(".layui-layer-content iframe").css("height","497px");

}
/********正则验证规则 start*************/
//验证邮箱
var myreg_email = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
//验证手机
var myreg_mobile = /(^0?[1][123456789][0-9]{9}$)/;
//验证正整数
var myreg_positive_integer = /[1-9]\d*/;
/********正则验证规则 end*************/